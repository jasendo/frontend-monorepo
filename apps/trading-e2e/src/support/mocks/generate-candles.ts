import merge from 'lodash/merge';
import type { PartialDeep } from 'type-fest';
import type {
  Candles,
  Candles_market_candles,
} from '@vegaprotocol/candles-chart';

export const generateCandles = (override?: PartialDeep<Candles>): Candles => {
  const candles: Candles_market_candles[] = [
    {
      datetime: '2022-04-05T13:45:00Z',
      high: '17491092',
      low: '17403651',
      open: '17478833',
      close: '17446470',
      volume: '82721',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T14:00:00Z',
      high: '17491202',
      low: '17361138',
      open: '17446470',
      close: '17367174',
      volume: '62637',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T14:15:00Z',
      high: '17424522',
      low: '17337719',
      open: '17367174',
      close: '17376455',
      volume: '60259',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T14:30:00Z',
      high: '17424532',
      low: '17337710',
      open: '17376455',
      close: '17424532',
      volume: '63259',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T14:45:00Z',
      high: '17424552',
      low: '17337730',
      open: '17424532',
      close: '17424550',
      volume: '63100',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T15:00:00Z',
      high: '17544582',
      low: '17337530',
      open: '17424550',
      close: '17458833',
      volume: '63500',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T15:15:00Z',
      high: '17481092',
      low: '17403651',
      open: '17458833',
      close: '17446470',
      volume: '82721',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T15:30:00Z',
      high: '17491202',
      low: '17361138',
      open: '17446470',
      close: '17367174',
      volume: '62637',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T15:45:00Z',
      high: '17424522',
      low: '17337719',
      open: '17367174',
      close: '17376455',
      volume: '60259',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T16:00:00Z',
      high: '17424532',
      low: '17337710',
      open: '17376455',
      close: '17424532',
      volume: '63259',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T16:15:00Z',
      high: '17424552',
      low: '17337730',
      open: '17424532',
      close: '17424550',
      volume: '63100',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T16:30:00Z',
      high: '17524582',
      low: '17337530',
      open: '17424550',
      close: '17424552',
      volume: '63500',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T16:45:00Z',
      high: '17474562',
      low: '17337530',
      open: '17424552',
      close: '17323352',
      volume: '63500',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T17:00:00Z',
      high: '17481092',
      low: '17403651',
      open: '17458833',
      close: '17446470',
      volume: '82721',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T17:15:00Z',
      high: '17491202',
      low: '17361138',
      open: '17446470',
      close: '17367174',
      volume: '62637',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T17:30:00Z',
      high: '17424522',
      low: '17337719',
      open: '17367174',
      close: '17376455',
      volume: '60259',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T17:45:00Z',
      high: '17424532',
      low: '17361138',
      open: '17376455',
      close: '17376355',
      volume: '63259',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T18:00:00Z',
      high: '17424552',
      low: '17337730',
      open: '17424532',
      close: '17424550',
      volume: '63100',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T18:15:00Z',
      high: '17524582',
      low: '17337530',
      open: '17424550',
      close: '17424552',
      volume: '63500',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T18:30:00Z',
      high: '17474562',
      low: '17123352',
      open: '17424552',
      close: '17323352',
      volume: '63500',
      __typename: 'Candle',
    },
    {
      datetime: '2022-04-05T23:00:00Z',
      high: '17474562',
      low: '17337530',
      open: '17323352',
      close: '17424552',
      volume: '63500',
      __typename: 'Candle',
    },
  ];
  const defaultResult = {
    market: {
      id: 'market-id',
      decimalPlaces: 5,
      tradableInstrument: {
        instrument: {
          id: '',
          name: 'Apple Monthly (30 Jun 2022)',
          code: 'AAPL.MF21',
          __typename: 'Instrument',
        },
        __typename: 'TradableInstrument',
      },
      candles,
      __typename: 'Market',
    },
  };
  return merge(defaultResult, override);
};
